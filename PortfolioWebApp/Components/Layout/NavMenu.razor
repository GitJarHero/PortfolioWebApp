<MudDrawer Breakpoint="Breakpoint.Xs" @bind-Open="Open" ClipMode="DrawerClipMode.Always" Elevation="1" Variant="@DrawerVariant.Mini">

    <MudDrawerHeader Class="pa-4">
        <MudText Typo="Typo.h6">
            <MudIcon Icon="@Icons.Material.Filled.BubbleChart" Class="me-2" />
            MyApp
        </MudText>
    </MudDrawerHeader>

    <MudNavMenu Color="Color.Info">
        <AuthorizeView>
            <Authorized Context="authContext">
                <!-- visible for authenticated users -->
                <MudNavLink ForceLoad="false" Href="/Home" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">
                    Home
                </MudNavLink>
                <MudNavLink ForceLoad="false" Href="/Chats" Icon="@Icons.Material.Filled.Chat">
                    Chats
                </MudNavLink>
              
               
                <MudNavLink ForceLoad="false" Href="/Friends" Icon="@Icons.Material.Filled.People">
                    Friends
                </MudNavLink>
             
  
                

                <MudSpacer/>
                
                <MudNavLink ForceLoad="false" Href="/Account/Profile" Icon="@Icons.Material.Filled.AccountCircle">
                    Profile
                </MudNavLink>
                <MudNavLink ForceLoad="false" IconColor="Color.Error" Href="/Account/Logout" 
                            Icon="@Icons.Material.Filled.ExitToApp">
                    Logout
                </MudNavLink>

                <!-- visible to admins -->
                <AuthorizeView Roles="admin">
                    <Authorized Context="adminContext">
                        <MudNavLink ForceLoad="false" Href="/Administration" Icon="@Icons.Material.Filled.AdminPanelSettings">
                            Administration
                        </MudNavLink>
                    </Authorized>
                </AuthorizeView>
            </Authorized>
            
            <NotAuthorized>
                <!-- visible to non-authenticated users -->
                <MudNavLink Href="/Account/Login" Icon="@Icons.Material.Filled.Login"> 
                    Login
                </MudNavLink>
                <MudNavLink Href="/Account/Register" Icon="@Icons.Material.Filled.HowToReg">
                    Register
                </MudNavLink>
            </NotAuthorized>
        </AuthorizeView>
    </MudNavMenu>
    
</MudDrawer>

@code {
    [Parameter]
    public bool Open { get; set; }

    [Parameter]
    public EventCallback<bool> OpenChanged { get; set; }
}